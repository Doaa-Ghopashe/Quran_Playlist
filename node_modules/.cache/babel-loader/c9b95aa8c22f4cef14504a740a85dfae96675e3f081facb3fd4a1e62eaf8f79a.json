{"ast":null,"code":"import _slicedToArray from\"D:/Projects Files/quran_playlist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import $ from\"jquery\";import Card from'../components/Card';import Pagination from'../components/Pagination';import NotFoundPage from'./NotFound';import db from\"../API/db.json\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Playlist(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useParams=useParams(),readername=_useParams.readername;var _useState3=useState(new Set()),_useState4=_slicedToArray(_useState3,1),temp=_useState4[0];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchword=_useState6[0],setSearchWord=_useState6[1];var getData=function getData(){var SETVar=new Set(db.playlist.map(function(p){return p.readernameEN==readername&&p;}));SETVar.delete(false);setData(Array.from(SETVar));};useEffect(function(){getData();document.getElementById(\"searchword\").value=\"\";setSearchWord('');},[readername]);if(data.length>1){data.sort(function(a,b){return a.surahnum-b.surahnum;});}var handleChange=function handleChange(e){temp.clear();setSearchWord(e.target.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchbox\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"searchword\",className:\"form-control\",onChange:handleChange,placeholder:\"Enter surah name \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"cards-container row\",children:data.map(function(Item){var surahname=Item.surahEN;if(surahname.toLowerCase().includes(searchword.trim())){temp.add(Item.surahEN);return/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-md-6 pt-5 cardbox\",children:/*#__PURE__*/_jsx(Link,{to:\"/playlist/\".concat(Item.readernameEN,\"/\").concat(Item.surahEN),children:/*#__PURE__*/_jsx(Card,{data:Item})})},Item.surahEN);}})}),temp.size>0?/*#__PURE__*/_jsx(\"div\",{className:\"pagination py-0 justify-content-center\",children:/*#__PURE__*/_jsx(Pagination,{datalength:temp.size})}):/*#__PURE__*/_jsx(NotFoundPage,{surahname:searchword})]})});}","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","$","Card","Pagination","NotFoundPage","db","Playlist","data","setData","readername","Set","temp","searchword","setSearchWord","getData","SETVar","playlist","map","p","readernameEN","delete","Array","from","document","getElementById","value","length","sort","a","b","surahnum","handleChange","e","clear","target","Item","surahname","surahEN","toLowerCase","includes","trim","add","size"],"sources":["D:/Projects Files/quran_playlist/src/pages/Playlist.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams , Link } from 'react-router-dom';\r\nimport $ from \"jquery\"\r\nimport Card from '../components/Card';\r\nimport Pagination from '../components/Pagination';\r\nimport NotFoundPage from './NotFound';\r\nimport db from \"../API/db.json\"\r\nexport default function Playlist() {\r\n  let [data , setData] = useState([]);\r\n  let {readername} = useParams();\r\n  let [temp] = useState(new Set());\r\n  let [searchword , setSearchWord] = useState('');\r\n  let getData = ()=>{\r\n      let SETVar = new Set(db.playlist.map(p=>(p.readernameEN==readername)&&p));\r\n      SETVar.delete(false);\r\n      setData(Array.from(SETVar));\r\n  }\r\n  useEffect(()=>{\r\n    getData();\r\n    document.getElementById(\"searchword\").value = \"\"\r\n    setSearchWord('')\r\n  },[readername])\r\n\r\n  if(data.length > 1){\r\n    data.sort((a ,b) => a.surahnum- b.surahnum)\r\n  }\r\n\r\n  let handleChange = (e)=>{\r\n    temp.clear()\r\n    setSearchWord(e.target.value);\r\n  }\r\n  return (\r\n    <>\r\n    <div className='container'>\r\n      <div className=\"searchbox\">\r\n        <input type=\"text\" id=\"searchword\" className=\"form-control\"onChange={handleChange} placeholder=\"Enter surah name \"/>\r\n      </div>\r\n      <div className='cards-container row'>\r\n        {\r\n        data.map((Item)=>{\r\n          let surahname = Item.surahEN;\r\n          if(surahname.toLowerCase().includes(searchword.trim())){\r\n            temp.add(Item.surahEN);\r\n            return(\r\n              <div className='col-xl-3 col-md-6 pt-5 cardbox' key={Item.surahEN}>\r\n                <Link to={`/playlist/${Item.readernameEN}/${Item.surahEN}`}>\r\n                  <Card data={Item}/>\r\n                </Link>\r\n              </div>\r\n            )\r\n          }\r\n        })\r\n        }\r\n      </div>\r\n      \r\n      {temp.size > 0 ? <div className='pagination py-0 justify-content-center'><Pagination datalength={temp.size}/></div>:<NotFoundPage surahname={searchword}/>}\r\n      \r\n    </div>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}